# 使用指南

## 第一次运行

### 步骤 1: 安装依赖

打开 PowerShell 或命令提示符，导航到项目目录：

```bash
cd examples/Kode.Agent.Boilerplate.React
npm install
```

等待依赖安装完成（首次安装可能需要几分钟）。

### 步骤 2: 启动后端

在另一个终端窗口，启动 Kode.Agent.Boilerplate 后端：

```bash
cd examples/Kode.Agent.Boilerplate
dotnet run
```

确保后端运行在 `http://localhost:5000`。

### 步骤 3: 启动前端

返回前端项目目录，启动开发服务器：

```bash
npm run dev
```

浏览器会自动打开 `http://localhost:3000`。

## 基本使用

### 创建第一个对话

1. 点击左侧边栏顶部的 **+** 按钮
2. 会自动创建一个名为 "New Chat" 的新对话
3. 对话会自动被选中并显示在右侧

### 发送消息

1. 在右侧底部的文本框中输入你的消息
2. 按 **Enter** 键发送（Shift+Enter 可以换行）
3. 或者点击右侧的 **发送按钮**
4. 等待 AI 助手的回复

### 查看历史消息

- 所有消息都会显示在聊天面板中
- 用户消息显示在右侧（蓝色背景）
- 助手消息显示在左侧（灰色背景）
- 每条消息下方显示发送时间

### 切换对话

1. 点击左侧边栏中的任意对话
2. 右侧会显示该对话的完整历史
3. 可以继续在该对话中发送消息

### 删除对话

1. 鼠标悬停在左侧边栏的对话上
2. 右侧会出现垃圾桶图标
3. 点击垃圾桶图标
4. 确认删除

## 高级功能

### 多行消息

输入框支持多行文本：

1. 按 **Shift + Enter** 进行换行
2. 继续输入更多内容
3. 按 **Enter** 发送完整消息

### 会话持久化

- 所有对话会自动保存到浏览器的 localStorage
- 刷新页面不会丢失数据
- 关闭浏览器后重新打开仍然保留

### 流式响应

- AI 助手的回复会实时显示
- 不需要等待完整回复
- 可以看到"思考中..."的加载状态

## 使用技巧

### 快速开始新对话

每次需要新话题时：
1. 点击 + 创建新对话
2. 这样可以保持不同话题的对话分离

### 组织对话

- 对话会自动以第一条消息作为标题
- 最新的对话显示在列表顶部
- 可以通过标题快速识别不同对话

### 处理错误

如果遇到错误：
1. 检查后端是否正在运行
2. 查看浏览器控制台的错误信息
3. 刷新页面重试
4. 错误消息会显示在聊天中

## 配置选项

### 修改后端地址

如果后端不在 `http://localhost:5000`，编辑 `vite.config.ts`：

```typescript
server: {
  proxy: {
    '/v1': {
      target: 'http://your-backend-url:port',
      changeOrigin: true,
    },
  },
}
```

### 清除本地数据

如果需要清除所有对话数据：

1. 打开浏览器开发者工具（F12）
2. 切换到 Console 标签
3. 输入并执行：`localStorage.clear()`
4. 刷新页面

## 常见问题

### Q: 为什么消息发送失败？

**A:** 检查以下几点：
- 后端服务是否正在运行
- 后端地址是否正确
- 网络连接是否正常
- 浏览器控制台是否有错误信息

### Q: 为什么看不到历史对话？

**A:** 可能的原因：
- localStorage 被清除
- 使用了浏览器的隐私/无痕模式
- 浏览器设置阻止了 localStorage

### Q: 如何加快响应速度？

**A:** 响应速度取决于：
- 后端 API 的性能
- 使用的 AI 模型
- 网络延迟
- 消息的复杂度

### Q: 可以同时进行多个对话吗？

**A:** 
- 可以创建多个对话会话
- 但每次只能在一个对话中发送消息
- 切换对话即可进入不同的会话

### Q: 对话数据安全吗？

**A:**
- 数据存储在浏览器本地（localStorage）
- 不会上传到第三方服务器
- 只有后端 API 会接收消息内容
- 建议不要在对话中输入敏感信息

## 最佳实践

### 1. 对话组织

- 为不同的任务创建不同的对话
- 定期清理不需要的对话
- 使用有意义的第一条消息（作为标题）

### 2. 消息编写

- 清晰表达你的需求
- 提供足够的上下文
- 如果结果不理想，可以重新表述问题

### 3. 性能优化

- 不要保留太多历史对话
- 定期清理不需要的对话
- 对于长对话，考虑开启新会话

### 4. 故障排除

- 遇到问题先查看浏览器控制台
- 检查后端日志
- 尝试刷新页面
- 必要时清除 localStorage 重新开始

## 开发调试

### 查看网络请求

1. 打开浏览器开发者工具（F12）
2. 切换到 Network 标签
3. 发送消息
4. 查看 `/v1/chat/completions` 请求

### 查看控制台日志

1. 打开浏览器开发者工具（F12）
2. 切换到 Console 标签
3. 查看应用日志和错误信息

### 查看存储数据

1. 打开浏览器开发者工具（F12）
2. 切换到 Application 标签
3. 展开 Local Storage
4. 查看 `kode-agent-sessions` 键

## 获取帮助

如果遇到问题：

1. 查看 [README.md](./README.md) 文档
2. 查看 [PROJECT_OVERVIEW.md](./PROJECT_OVERVIEW.md) 了解技术细节
3. 检查 GitHub Issues
4. 联系项目维护者

## 反馈建议

欢迎提供反馈和建议：
- 报告 Bug
- 提出新功能
- 改进文档
- 贡献代码
